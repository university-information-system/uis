<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      layout:decorator="layout/default">

<body onload="myFunction()">

<div layout:fragment="content">
    <div th:replace="fragments/header:: header"></div>


    <div class="basic-error" sec:authorize="!(hasRole('ROLE_ADMIN') || hasRole('ROLE_USER'))">
        <br/>
        <span th:text="#{please.log.in}"></span>
    </div>

    <h2>This is using the main style</h2>

    <div id="description">
        This is using another style, which is imported into the main style.
    </div>

    <h3>
        <ul>
            <li th:each="course : ${listOfCourses}">
                <a th:href="@{/editCourse(id=__${course.id}__)}"
                   th:text="${course.name} + ', ' + ${course.ects} + 'ECTS'"> </a>
            </li>
        </ul>
    </h3>

    <div sec:authorize="hasRole('ROLE_USER')">
        Want to add a course? <a th:href="@{/login}">Log in as admin!</a>
    </div>

    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <form th:action="@{/addcourse}" method="post">
            <input type="text" name="name"/>
            <button type="submit">Add new course</button>
        </form>
    </div>

    <a class="btn-floating btn-large waves-effect waves-light red"><i class="material-icons">add</i></a>

</div>

</body>
</html>